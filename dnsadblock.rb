# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Dnsadblock < Formula
  desc "DnsAdBlock DNS Proxy"
  homepage "https://dnsadblock.com"
  version "0.2.173"
  bottle :unneeded

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/dnsadblock/proxy-release/releases/download/v0.2.173/dnsadblock_0.2.173_darwin_amd64.tar.gz"
      sha256 "46f96dab5101205e8f4f5b7cf49222bbe35e0602679740b6c42937b56ebbe756"
    end
    if Hardware::CPU.arm?
      url "https://github.com/dnsadblock/proxy-release/releases/download/v0.2.173/dnsadblock_0.2.173_darwin_arm64.tar.gz"
      sha256 "6ab9450aa7668a247b85e31a9169c12049558f2e956d041f534b9ecb5866de4e"
    end

    depends_on arch: [:x86_64, :aarch64]
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/dnsadblock/proxy-release/releases/download/v0.2.173/dnsadblock_0.2.173_linux_amd64.tar.gz"
      sha256 "39bec60f3f88c998366140932eb14bbf62776706aa4a2b4ccf122e2a6d6a66dc"
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/dnsadblock/proxy-release/releases/download/v0.2.173/dnsadblock_0.2.173_linux_armv6.tar.gz"
      sha256 "ae37ec2db8f26f1acff13ca2b223671f7e90bbce355a0ffe22b9bd5793f6a40d"
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/dnsadblock/proxy-release/releases/download/v0.2.173/dnsadblock_0.2.173_linux_arm64.tar.gz"
      sha256 "a9565dac1d2b72c4b82671376ca07489f1b557116846967900eb530821209558"
    end

    depends_on arch: [:x86_64, :aarch64, :arm]
  end

  def install
    bin.install "dnsadblock"
  end

  def caveats; <<~EOS
    To install DnsAdBlock, run the following command: sudo dnsadblock install --config <your_conf_id> Then setup your DNS manually to 127.0.0.1 or by running: sudo dnsadblock activate
  EOS
  end
end
